"use strict";(self.webpackChunktimetracker=self.webpackChunktimetracker||[]).push([[899],{7895:function(e,t,n){n.d(t,{T:function(){return a}});var r="http://ec2-54-235-237-0.compute-1.amazonaws.com/api/",a={auth:{login:"".concat(r,"/auth/login"),signup:"".concat(r,"/auth/signup")},books:{addBook:"".concat(r,"/books/create_book"),allBooks:"".concat(r,"/books/get_all_books"),updateBook:"".concat(r,"/books/update_book"),deleteBook:"".concat(r,"/books/remove_book")}}},9900:function(e,t,n){var r=n(93),a=n(4807),i=(n(2791),n(184));t.Z=function(e){var t=e.children,n=(0,a.Z)();return(0,i.jsx)(r.Z,{sx:{svg:{height:"100%",width:"100%"},".fill-primary":{fill:n.palette.primary.light},".fill-secondary":{fill:n.palette.secondary.light},".fill-error":{fill:n.palette.error.light},".fill-success":{fill:n.palette.success.light},".fill-warning":{fill:n.palette.warning.light},".fill-paper":{fill:n.palette.background.paper}},children:t})}},580:function(e,t,n){n.d(t,{E:function(){return r},R:function(){return a}});var r=104,a=280},899:function(e,t,n){n.r(t),n.d(t,{default:function(){return _e}});var r=n(1413),a=n(5861),i=n(885),l=n(7757),o=n.n(l),c=n(2791),s=n(9750),u=n(45),d=n(4938),f=n(1135),p=n(9236),h=n(6143),m=n(1684),x=n(8843),g=n(7405),v=n(9822),Z=n(2336),b=n(580),y=n(6030),j=n(184),w=function(e){var t=e.children,n=(0,y.v9)((function(e){return e})).drawerData.collapsed?b.E:b.R;return(0,j.jsx)(Z.Z,{color:"default",position:"fixed",sx:{width:{lg:"calc(100% - ".concat(n,"px)")},marginLeft:{lg:n}},children:t})},k=n(1217),C=n(2413),E=n(5477),S=n(8336),B=n(5738),N=n(93),I=function(e){var t=e.children,n=e.title,r=e.subTitle,a=(0,y.I0)();return(0,j.jsxs)(C.Z,{sx:{px:{xs:3,sm:6}},children:[(0,j.jsx)(k.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){a((0,B.w)())},sx:{display:{lg:"none"},marginRight:2},children:(0,j.jsx)(S.Z,{})}),(0,j.jsxs)(N.Z,{sx:{flexGrow:1},children:[(0,j.jsx)(E.Z,{variant:"h2",component:"h1",children:n}),(0,j.jsx)(E.Z,{variant:"h6",component:"h1",children:r})]}),t]})},M=n(7176),P=n(3459),T=n(4872),_=n(1807),A=n(7653),L=n(9266),O=n(6454),R=n(2506),q=n(132),F=function(e){var t=e.onAdd,n=e.onClose,r=e.onUpdate,a=e.open,i=e.user,l=Boolean(i),o=(0,R.TA)({initialValues:{name:i?i.name:"",author:i?i.author:"",price:i?i.price:"",ISBN:i?i.ISBN:""},validationSchema:q.Ry({name:q.Z_().max(20,"Name must be long").required("Name is required"),author:q.Z_().max(20,"author Name must be long").required("author name is required"),price:q.Z_().max(5,"price must be long").required("price is required"),ISBN:q.Z_().max(12,"price must be long").required("price is required")}),onSubmit:function(e){i?r(e):t(e)}});return(0,j.jsx)(_.Z,{open:a,onClose:n,"aria-labelledby":"user-dialog-title",children:(0,j.jsxs)("form",{onSubmit:o.handleSubmit,noValidate:!0,children:[(0,j.jsx)(O.Z,{id:"user-dialog-title",children:l?"Update Book Data":"Add New Book"}),(0,j.jsxs)(L.Z,{children:[(0,j.jsx)(s.Z,{margin:"normal",required:!0,autoFocus:!0,fullWidth:!0,id:"name",label:"Name",name:"name",value:o.values.name,onChange:o.handleChange,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name}),(0,j.jsx)(s.Z,{margin:"normal",required:!0,autoFocus:!0,fullWidth:!0,id:"author",label:"Author Name",name:"author",value:o.values.author,onChange:o.handleChange,error:o.touched.author&&Boolean(o.errors.author),helperText:o.touched.author&&o.errors.author}),(0,j.jsx)(s.Z,{margin:"normal",required:!0,autoFocus:!0,fullWidth:!0,id:"price",label:"Price",name:"price",value:o.values.price,onChange:o.handleChange,error:o.touched.price&&Boolean(o.errors.price),helperText:o.touched.price&&o.errors.price}),(0,j.jsx)(s.Z,{margin:"normal",required:!0,autoFocus:!0,fullWidth:!0,id:"ISBN",label:"ISBN",name:"ISBN",value:o.values.ISBN,onChange:o.handleChange,error:o.touched.ISBN&&Boolean(o.errors.ISBN),helperText:o.touched.ISBN&&o.errors.name})]}),(0,j.jsxs)(A.Z,{children:[(0,j.jsx)(T.Z,{onClick:n,children:"Cancel"}),(0,j.jsx)(T.Z,{type:"submit",variant:"contained",children:l?"Update":"Submit"})]})]})})},W=n(7590),D=n(3723),U=n(7895),z=n(1697),V=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n({type:D.b,payload:!0}),(0,z.x)({method:"POST",url:"".concat(U.T.books.allBooks),data:e}).then((function(e){n({type:D.z,payload:e}),t(e)})).catch((function(e){r(e)})).finally((function(){n({type:D.b,payload:!1})}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n({type:D.b,payload:!0}),(0,z.x)({method:"POST",url:"".concat(U.T.books.addBook),data:e}).then((function(e){t(e.data)})).catch((function(e){r(e)})).finally((function(){n({type:D.b,payload:!1})}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,a){r({type:D.b,payload:!0}),(0,z.x)({method:"PUT",url:"".concat(U.T.books.updateBook,"/").concat(e),data:t}).then((function(e){n(e.data)})).catch((function(e){a(e)})).finally((function(){r({type:D.b,payload:!1})}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},J=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n({type:D.b,payload:!0}),(0,z.x)({method:"DELETE",url:"".concat(U.T.books.deleteBook,"/").concat(e)}).then((function(e){t(e.data)})).catch((function(e){r(e)})).finally((function(){n({type:D.b,payload:!1})}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=n(6500);var Q,X,Y,$,ee,te,ne,re,ae,ie,le,oe,ce,se,ue,de,fe,pe,he,me,xe,ge,ve,Ze,be,ye,je,we=n.p+"static/media/empty.395e0834db6e887e8ffa82110be414ae.svg",ke=n(7407),Ce=n(1079),Ee=n(4693),Se=["title","titleId"];function Be(){return Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ie(e,t){var n=e.title,r=e.titleId,a=Ne(e,Se);return c.createElement("svg",Be({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",width:406,height:306,className:"illustration styles_illustrationTablet__1DWOa",ref:t,"aria-labelledby":r},a),n?c.createElement("title",{id:r},n):null,Q||(Q=c.createElement("path",{d:"M192.65,152.79s-14.78-4.54-17.82,5.21,11.78,8.44,11.78,8.44Z",fill:"#24285b"})),X||(X=c.createElement("path",{d:"M161.28,95.66l-12.65,39.13a4.47,4.47,0,0,1-6.56,2.46L121.14,124.7l-3.8,6.83s24.76,24,34.67,21.26,22.82-27.08,22.82-27.08Z",fill:"#68e1fd",className:"fill-primary"})),Y||(Y=c.createElement("path",{d:"M161.28,95.66l-12.65,39.13a4.47,4.47,0,0,1-6.56,2.46L121.14,124.7l-3.8,6.83s24.76,24,34.67,21.26,22.82-27.08,22.82-27.08Z",opacity:.08})),$||($=c.createElement("polygon",{points:"160.67 63.83 172.56 79.52 165.43 90.95 158.46 71.65 160.67 63.83",fill:"#f4a28c"})),ee||(ee=c.createElement("path",{d:"M159.42,74.72a7.12,7.12,0,0,0,2.11-3.51s1.56,3.25-.25,8.25Z",fill:"#ce8172",opacity:.31})),te||(te=c.createElement("path",{d:"M152.21,66.54s1.58,5.8,3.9,9.18a3,3,0,0,0,4.21.76,6.64,6.64,0,0,0,3.15-6.5l-.13-5.54a5.4,5.4,0,0,0-4.23-4.58C155.1,58.74,151.06,63.06,152.21,66.54Z",fill:"#f4a28c"})),ne||(ne=c.createElement("path",{d:"M153.39,70.14l-.77,2.75a1,1,0,0,0,1.09,1.21l2.3-.39Z",fill:"#f4a28c"})),re||(re=c.createElement("path",{d:"M166,70.07l-1.72-8s3.71-2.75,1.15-4.79-3.3.55-4.91-2.46-4.39-2.38-5.28.22-1.28-.2-3.63.58-2.44,2-1.65,3.74-3.26,1.52-3,4,1.18,4.62,6.79,2.2S157.69,69.65,166,70.07Z",fill:"#ffd200",className:"fill-warning"})),ae||(ae=c.createElement("path",{d:"M160,69.16s-.76-2.19.94-2.62,2.8,2.71.7,3.82Z",fill:"#f4a28c"})),ie||(ie=c.createElement("path",{d:"M226.31,213.24l9.31,7.42A48.68,48.68,0,0,0,270.68,231l10.47-1a2,2,0,0,0,1.3-3.35l-17-18.76Z",fill:"#a8a8a8"})),le||(le=c.createElement("path",{d:"M226.31,161.15l9.31-7.42a48.63,48.63,0,0,1,35.06-10.37l10.47,1a2,2,0,0,1,1.3,3.35l-17,18.76Z",fill:"#a8a8a8"})),oe||(oe=c.createElement("path",{d:"M87.75,187.17S131.68,242,265.42,207.89V166.44C131.68,132.35,87.75,187.17,87.75,187.17Z",fill:"#e6e6e6"})),ce||(ce=c.createElement("path",{d:"M176.11,155.43s-12.92,9.11-10.6,22.28,19.37,31.07,19.37,31.07-3.88,11.31,6.92,5.4l1.95-5.57-8.53-21.44-2.37-18.75,6.88-13.15Z",opacity:.08})),se||(se=c.createElement("path",{d:"M165.43,91l7.13-11.44s24.83-2.27,34,17.61,13.33,45.17,13.33,45.17l-27.23,10.5S142.64,133.62,165.43,91Z",fill:"#68e1fd",className:"fill-primary"})),ue||(ue=c.createElement("path",{d:"M219.88,142.29s10.25,21.81-3.7,24.21a112.32,112.32,0,0,0-21,6.11,7.59,7.59,0,0,0-4.6,8.83l5,20.75-5.81,4.63L178,183.53a18.35,18.35,0,0,1,4.55-22.19l10.06-8.55Z",fill:"#24285b"})),de||(de=c.createElement("path",{d:"M184.23,109s-3.4,15.16,4.36,23.94,15,15.58,15,15.58l-11,4.24S179.1,147.21,171,138.4,176.15,106.36,184.23,109Z",opacity:.08})),fe||(fe=c.createElement("path",{d:"M187.07,94.49c-.69-12.42-17.42-15.86-23.3-4.9A29,29,0,0,0,160.4,100c-1.59,13.77-16.49,70.85-16.49,70.85l8.82,2.58S176.7,130.06,185,107A32,32,0,0,0,187.07,94.49Z",fill:"#68e1fd",className:"fill-primary"})),pe||(pe=c.createElement("rect",{x:131.84,y:177,width:27.64,height:6.52,rx:3.26,fill:"#878787",opacity:.19})),he||(he=c.createElement("path",{d:"M187.07,94.49c-.69-12.42-17.42-15.86-23.3-4.9A29,29,0,0,0,160.4,100c-1.59,13.77-16.49,70.85-16.49,70.85l8.82,2.58S176.7,130.06,185,107A32,32,0,0,0,187.07,94.49Z",fill:"#fff",opacity:.36})),me||(me=c.createElement("path",{d:"M145.36,171.29s-8.12,6.61-2.5,9.09,9.87-6.93,9.87-6.93Z",fill:"#f4a28c"})),xe||(xe=c.createElement("rect",{x:265.42,y:166.44,width:5.79,height:41.44,fill:"#a8a8a8"})),ge||(ge=c.createElement("path",{d:"M271.21,172.55s50.68-.94,63.57,11-63.57,16.12-63.57,16.12Z",fill:"#ffd200",className:"fill-warning"})),ve||(ve=c.createElement("path",{d:"M271.21,180.26s39-1.31,41.23,3.26-41.23,9.23-41.23,9.23Z",fill:"#fff",opacity:.33})),Ze||(Ze=c.createElement("path",{d:"M118.55,129.36s-9.48-3.14-5.43-9.39,8,4.73,8,4.73Z",fill:"#f4a28c"})),be||(be=c.createElement("rect",{x:111.52,y:106.97,width:9.96,height:15.7,transform:"translate(-30.65 43.39) rotate(-18.69)",fill:"#ffd200",className:"fill-warning"})),ye||(ye=c.createElement("path",{d:"M191.07,205.71s1.38,5.94-1.39,7.63c0,0,.94,4.22,5,1.85s3-8.37,3-8.37L194.47,203Z",fill:"#68e1fd",className:"fill-primary"})),je||(je=c.createElement("path",{d:"M123.44,165.08v44.17s-22-6-35.69-22.08C87.75,187.17,99.48,172.88,123.44,165.08Z",fill:"#a8a8a8"})))}var Me=c.forwardRef(Ie),Pe=(n.p,n(9900)),Te=function(e){var t=e.description,n=e.onClose,r=e.onConfirm,a=e.open,i=e.title,l=void 0===i?"Delete Record":i;return(0,j.jsxs)(_.Z,{open:a,onClose:n,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,j.jsxs)(L.Z,{sx:{textAlign:"center"},children:[(0,j.jsx)(Pe.Z,{children:(0,j.jsx)(Me,{style:{maxWidth:280,width:"100%"}})}),(0,j.jsx)(O.Z,{id:"confirm-dialog-title",sx:{pb:1,pt:0},children:l}),t&&(0,j.jsx)(Ee.Z,{id:"confirm-dialog-description",children:t})]}),(0,j.jsxs)(A.Z,{children:[(0,j.jsx)(T.Z,{onClick:n,children:"Cancel"}),(0,j.jsx)(T.Z,{autoFocus:!0,onClick:r,variant:"contained",children:"Confim"})]})]})},_e=function(){var e=(0,y.v9)((function(e){return e})),t=e.bookData,n=(e.auth,(0,c.useState)("")),l=(0,i.Z)(n,2),Z=l[0],b=l[1],k=(0,c.useState)(0),C=(0,i.Z)(k,2),E=C[0],S=C[1],B=(0,c.useState)(5),N=(0,i.Z)(B,2),T=N[0],_=N[1],A=(0,c.useState)(!1),L=(0,i.Z)(A,2),O=L[0],R=L[1],q=(0,c.useState)(void 0),D=(0,i.Z)(q,2),U=D[0],z=D[1],Q=(0,c.useState)(null),X=(0,i.Z)(Q,2),Y=X[0],$=X[1],ee=(0,y.I0)(),te=(0,c.useState)([]),ne=(0,i.Z)(te,2),re=ne[0],ae=ne[1],ie=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(H(t));case 2:R(!1),oe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){ae(null===t||void 0===t?void 0:t.books)}),[null===t||void 0===t?void 0:t.books]);var le=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(G(null===Y||void 0===Y?void 0:Y._id,t));case 2:R(!1),$(null),oe();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){return ee(V({skip:T*E,limit:T}))},ce=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(J(U));case 2:z(void 0),oe();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){oe()}),[]);return(0,j.jsxs)(c.Fragment,{children:[(0,j.jsx)(w,{children:(0,j.jsx)(I,{title:"Books",children:(0,j.jsx)(M.Z,{"aria-label":"logout",color:"primary",onClick:function(){R(!0)},size:"small",children:(0,j.jsx)(P.Z,{})})})}),(0,j.jsx)(W.Z,{isLoading:null===t||void 0===t?void 0:t.loading}),O&&(0,j.jsx)(F,{onAdd:ie,onClose:function(){$(null),R(!1)},onUpdate:le,open:O,user:Y}),(0,j.jsx)(s.Z,{margin:"normal",label:"Search Here",name:"name",value:Z,onChange:function(e){!function(e){var n;if(e.target.value&&(null===t||void 0===t||null===(n=t.books)||void 0===n?void 0:n.length)>0){var r,a=null===t||void 0===t||null===(r=t.books)||void 0===r?void 0:r.filter((function(t){return t.name.toLowerCase().match(e.target.value.toLowerCase())||t.author.toLowerCase().match(e.target.value.toLowerCase())}));ae(a)}else ae(null===t||void 0===t?void 0:t.books)}(e),b(e.target.value)}}),0===re.length?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(K.Z,{component:"div",sx:{minWidth:"100%",minHeight:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,j.jsx)(K.Z,{component:"img",alt:"No Data Founded",src:we})})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Z,{children:(0,j.jsxs)(d.Z,{"aria-labelledby":"tableTitle",sx:{minWidth:600,borderCollapse:"separate",borderSpacing:"0 1rem"},children:[(0,j.jsx)(f.Z,{children:(0,j.jsxs)(p.Z,{sx:{"& th":{border:0}},children:[[{id:"#",align:"center",label:"#"},{id:"Name",align:"center",label:"Name"},{id:"Author",align:"center",label:"Author"},{id:"Price",align:"center",label:"Price"},{id:"ISBN",align:"center",label:"ISBN"}].map((function(e){return(0,j.jsx)(h.Z,{align:e.align,sx:{py:0},children:e.label},e.id)})),(0,j.jsx)(h.Z,{align:"center",sx:{py:0},children:"Actions"})]})}),(0,j.jsx)(m.Z,{children:re.map((function(e,t){return(0,j.jsxs)(p.Z,{tabIndex:-1,sx:{"& td":{bgcolor:"background.paper",border:0}},children:[(0,j.jsx)(h.Z,{align:"center",sx:{borderTopLeftRadius:"1rem",borderBottomLeftRadius:"1rem"},children:t+1}),(0,j.jsx)(h.Z,{align:"center",children:null===e||void 0===e?void 0:e.name}),(0,j.jsx)(h.Z,{align:"center",children:null===e||void 0===e?void 0:e.author}),(0,j.jsx)(h.Z,{align:"center",children:null===e||void 0===e?void 0:e.price}),(0,j.jsx)(h.Z,{align:"center",children:null===e||void 0===e?void 0:e.ISBN}),(0,j.jsx)(h.Z,{align:"center",sx:{borderTopRightRadius:"1rem",borderBottomRightRadius:"1rem"},children:(0,j.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,j.jsx)(g.Z,{sx:{marginRight:"10px",cursor:"pointer"},onClick:function(){!function(e){$((0,r.Z)({},e)),R(!0)}(e)},children:(0,j.jsx)(Ce.Z,{})}),(0,j.jsx)(g.Z,{sx:{cursor:"pointer"},onClick:(0,a.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z(null===e||void 0===e?void 0:e._id);case 1:case"end":return t.stop()}}),t)}))),children:(0,j.jsx)(ke.Z,{})})]})})]},"TableRow".concat(t))}))})]})}),(0,j.jsx)(v.Z,{rowsPerPageOptions:[5,10,20],component:"div",count:null===t||void 0===t?void 0:t.count,rowsPerPage:T,page:E,onPageChange:function(e,t){S(t),ee(V({skip:T*t,limit:T}))},onRowsPerPageChange:function(e){_(parseInt(e.target.value,10)),S(0),ee(V({skip:0,limit:parseInt(e.target.value,10)}))}})]}),(0,j.jsx)(Te,{open:void 0!=U,description:"Are you sure you want to delete this book?",onConfirm:ce,onClose:function(){return z(void 0)}})]})}},5738:function(e,t,n){n.d(t,{w:function(){return a}});var r=n(9753),a=function(){return{type:r._}}}}]);
//# sourceMappingURL=899.a32e782d.chunk.js.map